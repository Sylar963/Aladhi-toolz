{
  "description": "Configuration for Optimal Delta Hedging Strategy (Colin Bennett Philosophy)",
  "version": "1.0.0",
  "last_updated": "2025-01-04",
  
  "volatility_forecasting": {
    "description": "Parameters for forecasted realized volatility (σ_R) - THE KEY INPUT",
    "use_forecasted_vol_for_hedging": true,
    "use_implied_vol_for_pricing_only": true,
    "vol_forecast_confidence_threshold": 0.5,
    "min_forecast_data_points": 100,
    "max_forecast_data_points": 500,
    "garch_refit_interval_hours": 24,
    "vol_regime_sensitivity": 0.8,
    "forecast_horizon_scaling": true
  },
  
  "delta_calculation": {
    "description": "Core delta calculation parameters",
    "primary_method": "local_volatility",
    "fallback_method": "black_scholes",
    "enable_skew_adjustment": true,
    "enable_regime_adjustment": true,
    "skew_adjustment_factor": 1.0,
    "regime_adjustment_factor": 0.5,
    "cache_ttl_seconds": 30,
    "vol_surface_required_for_local_vol": true
  },
  
  "transaction_costs": {
    "description": "Transaction cost parameters for optimization",
    "commission_per_trade": 0.0005,
    "bid_ask_spread_cost": 0.001,
    "market_impact_factor": 0.0001,
    "minimum_trade_size": 0.01,
    "rebalancing_frequency": "threshold",
    "delta_threshold": 0.05,
    "time_threshold_hours": 24,
    "vol_change_threshold": 0.05
  },
  
  "rebalancing_strategy": {
    "description": "Optimal rebalancing strategy parameters",
    "optimization_method": "cost_minimization",
    "trigger_type": "hybrid",
    "enable_dynamic_thresholds": true,
    "vol_scaling_enabled": true,
    "time_decay_enabled": true,
    "cost_adjustment_enabled": true,
    "reoptimize_interval_hours": 24,
    "min_rebalance_interval_minutes": 5,
    "max_rebalance_frequency_per_day": 24
  },
  
  "execution_parameters": {
    "description": "Trade execution optimization",
    "max_position_size": 10.0,
    "max_trade_size": 2.0,
    "min_trade_size": 0.01,
    "execution_style": "optimal",
    "trade_sizing_method": "optimal",
    "temporary_impact_factor": 0.0001,
    "permanent_impact_factor": 0.00005,
    "impact_decay_half_life_seconds": 300,
    "max_execution_time_seconds": 60,
    "slice_interval_seconds": 10
  },
  
  "risk_management": {
    "description": "Risk limits and controls",
    "max_delta_exposure": 50.0,
    "max_gamma_exposure": 100.0,
    "max_vega_exposure": 500.0,
    "max_position_size": 10.0,
    "max_daily_loss": 1000.0,
    "max_drawdown": 0.10,
    "max_concentration_risk": 0.5,
    "risk_check_interval_minutes": 5,
    "enable_automatic_risk_reduction": true,
    "emergency_liquidation_threshold": 0.15
  },
  
  "volatility_surface": {
    "description": "Volatility surface parameters for skew/smile modeling",
    "enable_vol_surface": true,
    "required_for_local_vol": true,
    "cache_ttl_seconds": 30,
    "min_data_points_per_expiry": 3,
    "max_interpolation_distance": 0.2,
    "stale_data_threshold_seconds": 300,
    "surface_quality_threshold": 0.6
  },
  
  "regime_detection": {
    "description": "Volatility regime detection parameters",
    "enable_regime_detection": true,
    "lookback_days": 252,
    "regime_change_sensitivity": 0.8,
    "min_regime_duration_hours": 4,
    "vol_percentile_thresholds": {
      "low": 25,
      "normal_lower": 25,
      "normal_upper": 75,
      "high": 90,
      "extreme": 95
    },
    "regime_adjustments": {
      "low_vol_adjustment": 0.03,
      "high_vol_adjustment": -0.05,
      "extreme_vol_adjustment": -0.10,
      "crisis_vol_adjustment": -0.15
    }
  },
  
  "performance_tracking": {
    "description": "Performance monitoring and analytics",
    "enable_detailed_logging": true,
    "log_level": "INFO",
    "log_file": "delta_hedging.log",
    "export_performance_data": true,
    "performance_export_interval_hours": 24,
    "track_attribution": true,
    "calculate_sharpe_ratio": true,
    "benchmark_against_bsm": true
  },
  
  "operational": {
    "description": "Operational parameters",
    "update_interval_seconds": 60.0,
    "enable_dry_run_mode": false,
    "max_history_records": 10000,
    "cleanup_interval_hours": 24,
    "enable_position_reconciliation": true,
    "reconciliation_interval_minutes": 15,
    "enable_market_data_validation": true,
    "stale_market_data_threshold_seconds": 30
  },
  
  "advanced_features": {
    "description": "Advanced features and experimental settings",
    "enable_path_dependent_pnl_management": false,
    "pnl_stop_loss_threshold": 0.05,
    "enable_multi_asset_hedging": false,
    "enable_correlation_adjustments": false,
    "monte_carlo_validation": false,
    "monte_carlo_simulations": 1000,
    "enable_machine_learning_vol_forecast": false,
    "ml_model_retrain_interval_hours": 168
  },
  
  "bennett_philosophy_flags": {
    "description": "Explicit flags for Colin Bennett's key insights",
    "use_forecast_vol_not_implied": true,
    "comment_forecast_vol": "Use forecasted realized volatility (σ_R) for hedge ratios, NOT market implied volatility (Σ)",
    
    "handle_vol_smile_skew": true,
    "comment_vol_smile": "BSM delta is often wrong for OTM options due to volatility skew - adjust accordingly",
    
    "optimize_transaction_costs": true,
    "comment_transaction_costs": "Balance hedge error vs transaction costs - core tradeoff in discrete hedging",
    
    "model_dependent_hedging": true,
    "comment_model_dependence": "Hedge ratio is always model-dependent - choose your model consciously",
    
    "dynamic_hedge_adjustments": true,
    "comment_dynamic_hedging": "Adapt hedge strategy to current market regime and volatility environment"
  },
  
  "integration": {
    "description": "Integration with existing Thalex infrastructure",
    "use_existing_financial_math": true,
    "use_existing_vol_surface": true,
    "use_existing_vol_forecasting": true,
    "use_existing_regime_detection": true,
    "use_existing_data_manager": true,
    "inherit_thalex_connection_settings": true,
    "use_existing_logging_patterns": true
  },
  
  "validation": {
    "description": "Validation and testing parameters",
    "enable_parameter_validation": true,
    "validate_market_data": true,
    "validate_vol_forecasts": true,
    "backtest_validation": false,
    "backtest_period_days": 30,
    "monte_carlo_validation": false,
    "stress_test_scenarios": [
      "high_vol_regime",
      "low_vol_regime", 
      "vol_regime_change",
      "extreme_market_moves",
      "transaction_cost_spike"
    ]
  }
}